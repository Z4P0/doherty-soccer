// base styles
@import "pieces/normalize";
@import "pieces/vars";
@import "pieces/mixins";
@import "pieces/classes";
@import "pieces/base";
@import "pieces/icons";
@import "pieces/typography";

// libraries
@import "libs/mapbox";


#main {
  @include px(margin-top, 40px);
  padding-top: 2rem;
}
.container {
  max-width: 1420px;
  margin: 0 auto;
}
// div.flex
div.flex {
  @include mq(netbook) {
    @include flexbox();
  }
}
div.flex-all {
  @include flexbox();
}

// homepage
// ===================================
// ===================================
#latest-articles {
  @include mq(netbook) {
    @include flexbox();
  }
}
#latest-post {
    margin: 0 5% 3rem;
    @include transition(margin, 0.3s);
    .article-meta {margin-bottom: 1rem;}
    @include mq(netbook) {
      @include flex(3);
      margin-right: 0;
      margin-left: 10%;
    }
    @include mq(desktop) {
      @include flex(4);
      .article-post {width: 90%;}
    }
  }

#recent-posts {
    margin: 0 5% 3rem;
    @include transition(margin, 0.3s);
    .t7 {
      @include px(margin-bottom, 13px);
    }
    @include mq(netbook) {
      @include flex(2);
      margin-bottom: 0;
      margin-right: 10%;
    }
    @include mq(desktop) {margin-left: 0;}
  }
  .recent-articles {
    list-style-type: none;
    @include rems(max-width, 390px);
    li {
      @include rems(margin-bottom, 26px);
      border-bottom: 1px solid lighten($black, 75%);
    }
  }





// articles index page
// ===================================
// ===================================
#all-articles-header {
  margin: 0 5% 0.5rem;
  @include mq(netbook) {margin: 0 10% 1rem;}
}

#all-topics-toggle {
  color: $silver;
  text-align: right;
  position: relative;
  span {
    font-size: 0.75rem;
    text-transform: uppercase;
    position: absolute;
    right: 0;
    @include transition(opacity, 0.3s);
    &:after {
      font-family: "foundation-icons";
      margin-left: 0.5rem;
      font-size: 125%;
      vertical-align: middle;        
    }
    @include hover();
  }
  .expand {
    opacity: 1;
    z-index: 305;
    margin-right: 20%;
    &:after {
      content: "\f198";
      position: absolute;
      transform: rotate(90deg);
      -ms-transform: rotate(90deg);
      -webkit-transform: rotate(90deg);
    }
  }
  .collapse {
    opacity: 0;
    z-index: 300;
    &:after {content: "\f176";}
  }
  @include flex(1);
  // when clicked, add class="show-collapse"
  &.show-collapse {
    .expand {
      z-index: 300;
      opacity: 0;
    }
    .collapse {
      z-index: 305;
      opacity: 1;
    }
  }
  // media queries
  @include mq(netbook) {display: none;}
}

#all-topics-wrapper {
  @include mq(netbook) {
    display: -webkit-box !important;
    display: -moz-box !important;
    display: -ms-flexbox !important;
    display: -webkit-flex !important;
    display: flex !important;
    div {
      @include flex(1);
      padding-right: 5%;
      &:last-child {padding-right: 0;}
    }
  }
}
#article-topics {
  background: $green;
  padding: 2.5rem 5% 0.5rem;
  margin-bottom: 2.5rem;
  @include mq(netbook) {padding: 2.5rem 10% 1rem;}
  @include transition(height, 0.3s);
  .t7 {
    color: $white;
    margin-bottom: 1rem;
    @include flex(2);
  }
  .t3 {
    font-size: 0.95rem;
    color: $black;
    font-family: $bold;
    letter-spacing: 0.5px;
    padding-bottom: 0.25rem;
    border-bottom: 1px solid $silver;
    margin-bottom: 0.75rem;
  }
}

.topics-list {
  list-style: none;
  margin-bottom: 1.75rem;
  font-size: 0.875rem;
  @include mq(netbook) {
    font-size: 1rem;
  }
  li {
    margin-bottom: 0.75rem;
    color: $silver;
    @include transition(color, 0.2s);
    &:hover {color: $white;}
  }
  a {
    color: inherit;
    text-decoration: none;
  }
}
#published-articles {
  margin: 0 5%;
  @include mq(netbook) {margin: 0 10%;}
  .t7 {margin-bottom: 0.5rem;}
  .article-title {
    font-size: 1.5rem;
    @include mq(netbook) {font-size: 1.75rem;}
  }
  .lead-in {
    font-size: 1rem;
    line-height: 1.4;
    @include mq(netbook) {font-size: 1.15rem;}
  }
  .read-article {font-size: 0.875rem;}
}
.published-articles {
  max-width: 38rem;  
  list-style: none;
  li {
    padding-bottom: 1rem;
    border-bottom: 1px solid $silver;
    margin-bottom: 1.25rem;
  }
}

























// article page styles
// ===================================
#article-post {
  .article-post {
    margin: 0 5% 3rem;
    @include mq(netbook) {margin: 0 10%;}
  }
  // .article-title {
  //   @include mq(desktop) {
  //     @include px(font-size, 60px);
  //   }
  // }
  .article-meta {margin-bottom: 1rem;}
  .comments-list {margin-bottom: 2rem;}
}


  // both styles (tags + reccomed)
  // ===================================
  #article-tags, #share-article {
    background: $green;
    padding: 5%;
    @include mq(netbook) {padding: 1% 10%;}
    .t7 {
      color: $white;
      margin-bottom: 0.25rem;
    }
  }

  // tags (players, tags)
  // ===================================
  #article-tags {padding-top: 1.5rem;}
  .article-tags {
    list-style: none;
    margin-bottom: 1rem;
    &:last-child {margin-bottom:0;}
    li {
      display: inline-block;
      &:after {
        content: ", ";
        margin-right: 0.25rem;
      }
      &:last-child:after {content: "";}
    }
  }


  // share/recommend
  // ===================================
  #share-article {
  }
  .share-article {
    li {
      display: inline-block;
      margin-right: 0.5rem;
    }
    i {
      font-size: 200%;
      color: darken($green, 15%);
      @include transition(color, 0.3s);
      &:hover {
        cursor: pointer;
        color: $white;
      }    
    }
  }






  // common styles (next article + related articles)
  // ===================================
  #next-article, #related-articles {
    padding: 1.5rem 5% 5%;
    @include mq(netbook) {padding-bottom: 3%;}
    .t7{
      margin-bottom: 0.5rem;
      color: $black2;
    }
  }

  // next article
  // ===================================
  #next-article {
    background: darken($green, 10%);
    @include transition(background, 0.3s);
    &:hover {background: darken($green, 8%);}
    @include mq(netbook) {
      @include flex(3);
      padding-left: 10%;
    }
    .article-post {
      margin: 0;
      color: $silver;
    }
    .article-title {
      font-size: 1.25rem;
      @include transition(color, 0.2s);
      &:hover {
        color: $white;
      }
    }
    .lead-in {
      font-size: 1rem;
      line-height: 1.3;
    }
  }

  // related articles
  // ===================================
  #related-articles {
    background: darken($green, 13%);
    @include mq(netbook) {
      @include flex(2);
      padding-right: 10%;
    }
    @include mq(desktop) {padding-left: 2rem;}
    .article-title {font-size: 1rem;}
  }
  .related-articles {
    list-style: none;
    color: $black2;
    li {
      @include transition(color, 0.4s);
      margin-bottom: 0.75rem;
      &:hover {color: darken($silver, 10%);}
      &:last-child {margin-bottom:0;}
      @include mq(netbook) {
        margin-bottom: 1.5rem;
      }
    }
  }











  // comments
  // ===================================
  #comments {
    margin: 2rem 5% 0;
    @include mq(netbook) {margin: 3rem 10% 0;}
    .t7 {margin-bottom: 1rem;}
  }
  #comments-list {
    @include mq(netbook) {
      @include flex(3);
      padding-left: 2rem;
    }
  }
  .comments-list {
    list-style: none;
    li {
      padding-bottom: 0.75rem;
      margin-bottom: 1.25rem;
      border-bottom: 1px solid lighten($black, 70%);
    }
  }
  .comment-actions li {
    padding: 0;
    margin: 0;
    border-bottom: none;
  }
  #comment-form {
    @include mq(netbook) {
      @include flex(2);
    }
  }











#concacaf-match-calendar {
  margin: 0 5% 3rem;
}









// league overview
// ===================================
// header
#league-header {
  border-bottom: 2px solid #2f2f2f;
  margin-bottom: 1em;
  @include flexbox();
  justify-content: space-between;
  align-items: flex-end;
  p {margin-bottom: 0;}
  @include px(padding-bottom, 8px);
  width: 80%;
  margin: 0 auto;

}
#league-info {
  @include flex(2);
}
#season {
  @include flex(1);
  text-align: right;
  color: lighten($black, 20%);
}


#content {
  @include flexbox();
}


// league overview menu
// ===================================
#league-menu-options {
  @include flex(1);
  text-align: right;
  max-width: 10%;
  ul {
    position: fixed;
    width: 10%;
  }
  li {
    list-style: none;
    @include px(font-size, 14px);
    text-transform: uppercase;
    position: relative;
    @include px(padding-right, 16px);
    @include px(margin, 8px, 0);
  }
  a {
    text-decoration: none;
    display: block;
    width: 100%;
    color: lighten($black, 25%);
    &:after {
      content: "\00a0";
      position: absolute;
      top: 0; right: 0; bottom: 0;
      width: 3px;
      background: lighten($black, 25%);
      opacity: 0;
      @include transition(opacity, 0.1s);
    }
    &:hover {
      color: $black;
      &:after {
        opacity: 1;
      }
    }
  }
  .current {
    color: $black;
    // font-weight: bold;
    &:after {
      background: $black;
      opacity: 1;
    }
  }
}


// main content
// ===================================
#main-content {
  @include flex(2);
  margin-right: 10%;
}

// league overview
#league-overview {
  // @include px(padding-top, 32px);
  @include px(padding-bottom, 32px);
  @include px(margin-bottom, 64px);
}


#interactive-area {
  @include flexbox();
  justify-content: space-between;
  .league-table {
    @include flex(1);
  }
}
#map-wrapper {
  @include flex(4);
  max-width: 76%;
  position: relative;
}
#map {
  width:100%;
  height:100%;
  position:absolute;
  top:0px;
  left:0px;
}


#league-articles {
  @include flexbox();
  justify-content: space-between;
  @include px(padding-top, 32px);
  @include px(margin-bottom, 64px);
  #article-preview {@include flex(2);}
  .article-post {margin: initial;}
  #recent-posts {@include flex(1);}
}

#league-history {
  @include px(padding-top, 32px);
  @include flexbox();
}
#history {
  @include flex(2);
}
#league-format {
  @include flex(1);
}

#league-extras {
  @include px(padding-top, 32px);
  @include px(margin-bottom, 64px);
}



// other
// ===================================
.transform-transition {
  transition: -webkit-transform 0.4s ease-out,
    -moz-transform 0.4s ease-in,
    -o-transform 0.4s ease-in,
    -ms-transform 0.4s ease-in,
    transform 0.4s ease-in;
  opacity: 0.2;
}
